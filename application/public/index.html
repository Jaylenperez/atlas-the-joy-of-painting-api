<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Page Title</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
<h1>The Joy Of Painting Episode Search</h1>
<p>This is a paragraph.</p>
</header>
<main>
    <section id="filters">
        <form id="filterForm">
          <!-- Year Filter -->
          <div class="filter-group">
            <label for="yearFilter">Year:</label>
            <select id="yearFilter" name="year">
              <option value="">Select Year</option>
            </select>
          </div>
          <!-- Month Filter -->
          <div class="filter-group">
            <label for="monthFilter">Month:</label>
            <select id="monthFilter" name="month">
              <option value="">Select Month</option>
              <option value="January">January</option>
              <option value="February">February</option>
              <option value="March">March</option>
              <option value="April">April</option>
              <option value="May">May</option>
              <option value="June">June</option>
              <option value="July">July</option>
              <option value="August">August</option>
              <option value="September">September</option>
              <option value="October">October</option>
              <option value="November">November</option>
              <option value="December">December</option>
            </select>
          </div>
          <!-- Season Filter -->
          <div class="filter-group">
            <label for="seasonFilter">Season:</label>
            <select id="seasonFilter" name="season">
              <option value="">Select Season</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
            </select>
          </div>
          <div>
            <h4>Subjects</h4>
                <form id="checkboxForm">
                <!-- Checkbox Option 1 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option1" name="filterOptions" value="option1">
                    <label for="option1">Option 1</label>
                </div>
                <!-- Checkbox Option 2 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option2" name="filterOptions" value="option2">
                    <label for="option2">Option 2</label>
                </div>
                <!-- Checkbox Option 3 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option3" name="filterOptions" value="option3">
                    <label for="option3">Option 3</label>
                </div>
                <!-- Checkbox Option 4 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option4" name="filterOptions" value="option4">
                    <label for="option4">Option 4</label>
                </div>
                </form>
            </div>
            <div>
                <h4>Colors</h4>
                <form id="checkboxForm">
                <!-- Checkbox Option 1 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option1" name="filterOptions" value="option1">
                    <label for="option1">Option 1</label>
                </div>
                <!-- Checkbox Option 2 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option2" name="filterOptions" value="option2">
                    <label for="option2">Option 2</label>
                </div>
                <!-- Checkbox Option 3 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option3" name="filterOptions" value="option3">
                    <label for="option3">Option 3</label>
                </div>
                <!-- Checkbox Option 4 -->
                <div class="checkbox-option">
                    <input type="checkbox" id="option4" name="filterOptions" value="option4">
                    <label for="option4">Option 4</label>
                </div>
                </form>
            </div>
            <div>
                <button>Search</button>
            </div>
      </section>
</main>

<script>
  // Wait for the DOM content to load
  document.addEventListener("DOMContentLoaded", async () => {
    try {
      // Make a GET request to your endpoint
      const response = await fetch('/api/episodes/years');
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      // Parse the response as JSON
      const result = await response.json();
      const years = result.data; // Expecting data as an array of objects, e.g., [{ "year": 1983 }, { "year": 1984 }, ...]
      const yearFilter = document.getElementById("yearFilter");

      // Loop through the years and create option elements
      years.forEach(item => {
        const option = document.createElement("option");
        option.value = item.year;
        option.textContent = item.year;
        yearFilter.appendChild(option);
      });
    } catch (error) {
      console.error("Error fetching years:", error);
    }
  });
</script>
</body>
</html>